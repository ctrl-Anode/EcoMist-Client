importScripts("https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js");importScripts("https://www.gstatic.com/firebasejs/9.23.0/firebase-messaging-compat.js");const a={apiKey:"AIzaSyDI4-BnlhJz5BQflocmopqpEIsc6WoHiE0",authDomain:"ecomist-3082f.firebaseapp.com",databaseURL:"https://ecomist-3082f-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"ecomist-3082f",storageBucket:"ecomist-3082f.firebasestorage.app",messagingSenderId:"1054000421761",appId:"1:1054000421761:web:4a79a37b3b2fef9b996680"};firebase.initializeApp(a);const i=firebase.messaging();i.onBackgroundMessage(e=>{console.log("Background message received:",e);const{title:s,body:t}=e.notification;self.registration.showNotification(s,{body:t,icon:"/eco-mist-logo.png"})});self.addEventListener("fetch",e=>{e.request.mode==="navigate"&&e.respondWith((async()=>{const s=await e.preloadResponse;if(s)return s;try{return await fetch(e.request)}catch{return new Response("Offline",{status:503,statusText:"Service Unavailable",headers:{"Content-Type":"text/plain"}})}})())});self.addEventListener("activate",e=>{e.waitUntil(self.registration.navigationPreload.enable())});
